package priv.hkon.theseq.sprites;

import priv.hkon.theseq.structures.House;
import priv.hkon.theseq.world.Village;

public class Mayor extends Villager {
	
	private static final long serialVersionUID = -1375679852859624804L;
	Sprite lastVictim;
	
	static boolean presented = false;

	public Mayor(int x, int y, Village v, House h, int i) {
		super(x, y, v, h, i);
		targetMode = MODE_WORKING;
	}
	
	public boolean tick(){
		if(super.tick()){
			return true;
		}
		
		
		return false;
	}
	
	public void work(){
		
		if(targetSprite == null){
			Citizen c;
			if((c = findCitizen()) != null){
				if(c == lastVictim){
					return;
				}
				hasPath = false;
				lastVictim = c;
				engageConversation(c, IMPORTANT_VERY);
			}else if(!hasPath){
				strollTownGrid();
			}
		}
		return;
	}
	
	public String getName(){
		return "The Mayor";
	}

	@Override
	public String[] getMeaningOfLife() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public String[] getPresentation() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public Integer[] getPresentationDurations() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public boolean classHasPresented() {
		return presented;
	}

	@Override
	public boolean subclassSpeechInterrupted() {
		return false;
	}

	@Override
	public boolean subclassSpeechFinished() {
		if(modeParameter == SPEECH_PRESENTING){
			presented = true;
		}
		return false;
	}
}
